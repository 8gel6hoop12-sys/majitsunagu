/* ===== Reset & Base ===== */
*,*::before,*::after{box-sizing:border-box}
html,body{margin:0;padding:0}
:root{
  --bg:#ffffff; --surface:#fff; --text:#121212; --muted:#6b7280;
  --primary:#ff7a00; --primary-weak:#fff1e6; --border:#ffd9b8;
  --radius:14px; --container:1100px;
}
body{font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans JP",sans-serif;color:var(--text);background:var(--bg);line-height:1.6}
.container{width:min(100% - 24px, var(--container));margin-inline:auto}
a{text-decoration:none;color:inherit}

/* ===== Buttons / Inputs ===== */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:.4rem;padding:.6rem 1rem;border-radius:12px;border:1px solid var(--primary);color:var(--primary);background:#fff;cursor:pointer}
.btn.fill{background:var(--primary);color:#fff}
.link{border:0;background:transparent;color:#374151;cursor:pointer}
.ipt{padding:.7rem .9rem;border:1px solid var(--border);border-radius:12px;background:#fff;width:100%}
.small{color:var(--muted);font-size:.92rem}
.h2{margin:.1rem 0 8px;font-size:1.1rem}

/* ===== Header ===== */
.site-header{position:sticky;top:0;background:#fff;border-bottom:1px solid var(--border);z-index:10}
.hdr{display:flex;align-items:center;justify-content:space-between;padding:.7rem 0}
.brand{display:flex;gap:.6rem;align-items:center}
.brand .dot{width:26px;height:26px;border-radius:8px;background:linear-gradient(135deg,var(--primary),#ffb066)}
.header-right{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap;justify-content:flex-end}
.auth{display:flex;align-items:center;gap:.4rem}
.auth .sep{color:#9aa3b2}
.who{color:#374151}

/* ===== Header right chips (26/27/28/すべて) ===== */
.yearchips-hdr{
  display:flex; gap:.4rem; align-items:center; flex-wrap:wrap;
  margin-right:.25rem;
}
.yearchips-hdr .year-chip{
  padding:.35rem .7rem; border-radius:999px;
  border:1px solid var(--border); background:#fff; cursor:pointer;
  font-size:.9rem; line-height:1;
}
.yearchips-hdr .year-chip.is-active{
  background:var(--primary-weak); border-color:#ffcba6; color:#c05800;
}

/* ===== Menu ===== */
.menu-wrap{position:relative}
.menu-btn{padding:.55rem .85rem;border-radius:12px;border:1px solid var(--border);background:#fff;cursor:pointer}
.menu{position:absolute;right:0;top:44px;background:#fff;border:1px solid var(--border);border-radius:14px;box-shadow:0 10px 24px rgba(0,0,0,.06);min-width:240px;display:none;overflow:hidden}
.menu.show{display:block}
.menu button{display:block;width:100%;text-align:left;background:#fff;border:0;padding:.85rem 1rem;cursor:pointer}
.menu button:hover{background:var(--primary-weak)}
.menu .sep{height:1px;background:var(--border);margin:.25rem 0}

/* ===== Main ===== */
.main{padding:16px 0 28px}
.card{background:#fff;border:1.5px solid var(--border);border-radius:var(--radius);padding:16px;margin-bottom:14px}
.card--tight{padding:12px}
.flex-between{display:flex;align-items:center;justify-content:space-between}

/* ===== Search launcher (四角の検索枠) ===== */
.search-launch{
  padding:12px; border:1.5px solid var(--border);
  cursor:pointer; user-select:none;
  transition:background .15s ease, border-color .15s ease, transform .04s ease;
}
.search-launch:active{ transform:scale(.996); }
.search-launch:hover{ background:#fffaf5; border-color:#ffcba6; }
.search-launch__inner{ display:flex; align-items:center; gap:.75rem; }
.search-launch__icon{
  width:38px; height:38px; border-radius:10px; display:grid; place-items:center;
  background:var(--primary-weak); color:#c05800; font-size:20px; flex:0 0 auto;
}
.search-launch__title{ font-weight:700; }
.search-launch__hint{ color:#6b7280; font-size:.92rem; }

/* ===== Result / Chips ===== */
.chipbar{display:flex;gap:6px;flex-wrap:wrap}
.chip{padding:.25rem .6rem;border-radius:999px;border:1px solid #ffd7b8;background:#fff3e8;color:#b94d00;font-size:.86rem}

/* ===== Cards (中央1列) ===== */
.grid-cards{display:grid;grid-template-columns:1fr;gap:14px;max-width:800px;margin:0 auto}
.card-item{width:100%}
.card-photo{position:relative;overflow:hidden;border-radius:18px;background:#0b1220;aspect-ratio:16/9;border:1.5px solid var(--border)}
.card-photo img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:brightness(.92)}
.card-photo.noimg::after{content:"No Image";position:absolute;inset:0;display:grid;place-items:center;color:#ffffffcc;font-weight:700;letter-spacing:.15em;background:linear-gradient(180deg,rgba(0,0,0,.12),rgba(0,0,0,.32))}
.card-photo .overlay{position:absolute;left:0;right:0;bottom:0;padding:16px;background:linear-gradient(180deg,rgba(0,0,0,0) 10%,rgba(0,0,0,.7) 85%);color:#fff;border-top:1px solid rgba(255,255,255,.25)}
.badge{display:inline-block;padding:.2rem .55rem;border-radius:999px;background:rgba(255,255,255,.18);border:1px solid rgba(255,255,255,.25);font-size:.85rem}
.meta{display:flex;gap:.4rem;flex-wrap:wrap}

/* Pager */
.pager{display:flex;gap:8px;justify-content:center;margin:16px 0}
.pager button{min-width:40px;padding:.55rem .85rem;border-radius:12px;border:1px solid var(--border);background:#fff;cursor:pointer}
.pager button.is-active{background:var(--primary-weak);border-color:#ffcba6;color:#c05800}

/* Profile */
.profile-grid{display:grid;grid-template-columns:1fr;gap:14px}
@media (min-width:900px){.profile-grid{grid-template-columns:1fr 1fr}}
.box{border:1.5px solid var(--border);border-radius:12px;padding:12px;background:#fff}
.box-title{font-weight:700;margin-bottom:8px}
.banner{background:#fff7f0;border:1.5px dashed #ffd7b8;color:#c05800;border-radius:12px;padding:.6rem .8rem;margin-bottom:10px}
.avatar-wrap{width:72px;height:72px;border-radius:50%;background:#fff1e6;overflow:hidden;display:flex;align-items:center;justify-content:center;border:1.5px solid var(--border);margin:.25rem 0}
.avatar-wrap img{width:100%;height:100%;object-fit:cover}
.level-wrap{display:flex;align-items:center;gap:12px;margin-top:6px}
.level-bar{flex:1;height:10px;background:#ffe9da;border-radius:999px;overflow:hidden}
.level-bar>span{display:block;height:100%;background:linear-gradient(90deg,var(--primary),#ffb066);width:0%}

/* Floating LINE */
.floating-line{position:fixed;left:16px;bottom:16px;background:#06c755;color:#fff;padding:.7rem 1rem;border-radius:12px;font-weight:700;box-shadow:0 8px 18px rgba(6,199,85,.25);z-index:5}

/* Views */
.view{display:none}.view.on{display:block}

/* Modal（検索もこのUIを使用） */
.modal{position:fixed;inset:0;background:rgba(15,23,42,.55);display:none;place-items:center;z-index:60;padding:16px}
.modal.show{display:grid}
.modal__dialog{width:min(100%,720px);background:#fff;border-radius:18px;box-shadow:0 20px 60px rgba(2,6,23,.25);overflow:hidden;position:relative;border:1.5px solid var(--border)}
.modal--search{width:min(100%,640px)}
.modal__close{position:absolute;right:10px;top:8px;width:36px;height:36px;border-radius:8px;border:1px solid var(--border);background:#fff;cursor:pointer;font-size:20px;line-height:1}
.modal__body{padding:16px}

/* Simple grid */
.grid-2{display:grid;grid-template-columns:1fr;gap:12px}
@media (min-width:900px){.grid-2{grid-template-columns:1fr 1fr}}
.actions{display:flex;gap:10px;justify-content:flex-end}

/* Tables（管理） */
.table{width:100%;border-collapse:separate;border-spacing:0;border:1.5px solid var(--border);border-radius:12px;overflow:hidden}
.table th,.table td{padding:.7rem;border-bottom:1px solid var(--border)}
.table thead th{background:#fff7f0;text-align:left}
.table tbody tr:last-child td{border-bottom:none}
